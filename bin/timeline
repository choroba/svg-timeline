#!/usr/bin/perl

use strict;
use warnings;
use 5.010;

use List::Util qw[min max];
use Getopt::Long;
use Timeline::SVG;

my %opts;

GetOptions(
  'years_per_grid=i' => \&opt_handler,
  'width=i'          => \&opt_handler,
  'height=i'         => \&opt_handler,
);

sub opt_handler {
  $opts{"$_[0]"} = $_[1];
}

my @events;
while (<>) {
  my %rec;
  @rec{qw[text start end]} = split /\t/;
  push @events, \%rec;
}

my $timeline = Timeline::SVG->new(%opts, events => \@events);

say $timeline->draw;
